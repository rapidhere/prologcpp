{# common helper macros #}

{%- macro subFunctorId(functor) -%}
    _{{ functor.getId() }}_{{ functor.getSize() }}
{%- endmacro -%}

{%- macro topFunctorId(functor) -%}
    {{ functor.getId() }}_{{ functor.getSize() }}
{%- endmacro -%}

{%- macro tHeader(list, pattern, tail) -%}
    {%- for i in list -%}
        {{ format(pattern, i) }}
        {%- if not (loop.last) -%},{% endif %}
    {%- endfor -%}
    {%- if length(tail) > 0 -%}
        ,{{ tail }}
    {%- endif -%}
{%- endmacro -%}

{%- macro atom(constant, context, Q) -%}
    {%- if Q -%}
        QueryAtom
    {%- else -%}
        Atom<{{ context.getConstantIndex(constant.getInt()) }}>
    {%- endif -%}
{%- endmacro -%}

